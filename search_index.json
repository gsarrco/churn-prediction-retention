[["index.html", "Churn prediction and retention analysis for a museum subscription in Italy Preliminary remarks", " Churn prediction and retention analysis for a museum subscription in Italy Gabriele Bidoia Beatrice Fabris Giada Pezzo Giacomo Sarrocco Preliminary remarks The following work is the result of a university project during in our Master’s Degree. Unfortunately, this project involves the use of sensible customer and business data that we are not allowed to share. Therefore, we had to remove parts from the published report. In particular: The original data files are not present in the github repository, The references to specific museums or locations are deleted, Information about customers, such as age, geographical distribution and so on are deleted. The part of the work with the analysis and prediction of the customers more likely to churn, which is the core of the project, is published completely. "],["introduction.html", "Introduction", " Introduction In today’s fiercely competitive business environment, companies started to realize the value not only of attractive new customers, but also of keeping the current ones. In today’s market, where consumers have a wide range of services providers to choose from, customers acquisition is frequently expensive and challenging (Van den Poel, 2004). Therefore, it has become crucial for service-oriented businesses to analyse and reduce client churn. It has been demonstrated that service providers can benefit in several of ways by minimizing client churn. First, it enables one stay focused on meeting the needs of current clients rather than of constantly seeking out new, potentially risky clients. Additionally, because a solid understanding of their preferences has been developed, long-term consumers are typically less costly. At last, losing clients results in lower sales as well as a bad reputation among prospective (Lazarov, V., &amp; Capota, M., 2007). For these reasons, business have developed Customer Relationship Management (CRM) tools aiming at classifying and predicting customer retention, developing retaining customers tasks in order to maximise their profitability. Churn detection is a crucial focus point for many sectors; this report, in particular, presents the case of a museum association. The goal of this Project is to provide an analysis about the museum card holders, trying to understand what are the common characteristics among those who renew their subscription and those who do not. The report will consist of several phases. First a descriptive phase in which we will try to understand what are the personal, geographic and behavioural characteristics of all the association’s customers, then the analysis will focus on understanding what are the characteristics of customers who tend not to renew their subscription. Next, models for classifying and predicting the probability of churn will be built and evaluated. Finally, the report will answer an economics problem in which the goal is to optimize a marketing campaign aimed at contacting the right customers so that they do not cancel their subscriptions. "],["data-preparation.html", "1 Data preparation 1.1 About the data 1.2 Data cleaning and processing", " 1 Data preparation 1.1 About the data In this preliminary section, the data that will be used to conduct the analysis aimed at predicting the likelihood of churn of museum subscriptions are described. Our data consists in three different datasets, each concerning specific aspects of the customers. The first dataset provides personal and subscription information about customers. It contains around 100,000 observations and 14 variables covering details of the purchase transactions, payment methods, types of discounts, as well as demographic and geographic information. With a total of around 80,000 observations and 16 variables, the second dataset provides a comprehensive view of card renewal dynamics. It includes both variables that provide personal details about customers and variables related to subscription renewals, such as the date when the subscription stared. The last dataset focuses on the individual visits to the museums. Featuring around 500,000 observations and 7 variables, it provides a detailed view of customer visits to museums, including information such as dates, times, ticket prices, and locations. 1.2 Data cleaning and processing It is essential to conduct rigorous data cleaning and preparation operations in order to guarantee the integrity and dependability of the datasets for further data analysis and prediction model construction. This critical phase lays the foundation for the accuracy of our insights and predictions. The initial step involves the merge of the first two datasets using the customer ID as the common identifier. During this merging process approximately 8,000 observations was lost due to the unavailability of matching customer IDs. The focus then shifts to identifying and dealing with missing and NA (Not Available) values within the datasets. There are certain entries in the dataset marked as “DATO MANCANTE,” “XXXXX,” “ESTER,” “BIANC,” and “CORSO,” all of which are taken into account and automatically converted into NA values. Additionally, the age variable had some missing entries, which led to a problem that was resolved by calculating all ages using the customer’s birth-date and the reference year of 2014. All date-related data fields are uniformly translated into a common date format to improve data consistency and usability. As most of our customers reside in the association area and its surrounding, we created an additional categorical variable to indicate if the customer lives in the municipality of the association, in the region of the association but outside of the municipality, or outside the region. This was done to provide more specific geographical context. Looking at customers’ time visits, it turned out that there are inconsistencies in the values. An entrance time of “00:00,” which is found in over 10,000 observations, is thought to be improbable and is treated as NA. Additionally, occurrences when people entered the museum at or almost at the same time, frequently with the same customer ID, have been considered false. The variable “cap,” which was initially numerical, also has a problem because the leading zeros were unintentionally left out. The variable is changed into a factor variable to ensure that all numerical values are included, correcting the situation and maintaining the accuracy and completeness of the data. In Table 1.1, the variables that are more significant to our analysis are reported and will be later described. #qdwfndnovj table { font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; } #qdwfndnovj thead, #qdwfndnovj tbody, #qdwfndnovj tfoot, #qdwfndnovj tr, #qdwfndnovj td, #qdwfndnovj th { border-style: none; } #qdwfndnovj p { margin: 0; padding: 0; } #qdwfndnovj .gt_table { display: table; border-collapse: collapse; line-height: normal; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #qdwfndnovj .gt_caption { padding-top: 4px; padding-bottom: 4px; } #qdwfndnovj .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #qdwfndnovj .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 3px; padding-bottom: 5px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #qdwfndnovj .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #qdwfndnovj .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #qdwfndnovj .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #qdwfndnovj .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #qdwfndnovj .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #qdwfndnovj .gt_column_spanner_outer:first-child { padding-left: 0; } #qdwfndnovj .gt_column_spanner_outer:last-child { padding-right: 0; } #qdwfndnovj .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #qdwfndnovj .gt_spanner_row { border-bottom-style: hidden; } #qdwfndnovj .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; text-align: left; } #qdwfndnovj .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #qdwfndnovj .gt_from_md > :first-child { margin-top: 0; } #qdwfndnovj .gt_from_md > :last-child { margin-bottom: 0; } #qdwfndnovj .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #qdwfndnovj .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #qdwfndnovj .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #qdwfndnovj .gt_row_group_first td { border-top-width: 2px; } #qdwfndnovj .gt_row_group_first th { border-top-width: 2px; } #qdwfndnovj .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #qdwfndnovj .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #qdwfndnovj .gt_first_summary_row.thick { border-top-width: 2px; } #qdwfndnovj .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #qdwfndnovj .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #qdwfndnovj .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #qdwfndnovj .gt_last_grand_summary_row_top { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: double; border-bottom-width: 6px; border-bottom-color: #D3D3D3; } #qdwfndnovj .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #qdwfndnovj .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #qdwfndnovj .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #qdwfndnovj .gt_footnote { margin: 0px; font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #qdwfndnovj .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #qdwfndnovj .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #qdwfndnovj .gt_left { text-align: left; } #qdwfndnovj .gt_center { text-align: center; } #qdwfndnovj .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #qdwfndnovj .gt_font_normal { font-weight: normal; } #qdwfndnovj .gt_font_bold { font-weight: bold; } #qdwfndnovj .gt_font_italic { font-style: italic; } #qdwfndnovj .gt_super { font-size: 65%; } #qdwfndnovj .gt_footnote_marks { font-size: 75%; vertical-align: 0.4em; position: initial; } #qdwfndnovj .gt_asterisk { font-size: 100%; vertical-align: 0; } #qdwfndnovj .gt_indent_1 { text-indent: 5px; } #qdwfndnovj .gt_indent_2 { text-indent: 10px; } #qdwfndnovj .gt_indent_3 { text-indent: 15px; } #qdwfndnovj .gt_indent_4 { text-indent: 20px; } #qdwfndnovj .gt_indent_5 { text-indent: 25px; } Table 1.1: Interesting variables Characteristic N = 71,6771 importo     0 545 (0.8%)     10 2,405 (3.4%)     28 20,180 (28%)     30 15,951 (22%)     44 25,536 (36%)     49 7,060 (9.8%) sesso     F 39,341 (55%)     M 30,260 (42%)     NA 2,076 (2.9%) nabb0512     0 19,088 (27%)     1 12,240 (17%)     2 9,748 (14%)     3 5,925 (8.3%)     4 5,380 (7.5%)     5 4,976 (6.9%)     6 4,329 (6.0%)     7 4,182 (5.8%)     8 5,809 (8.1%) cambiocap0512 6,175 (8.6%) province 46,974 (66%)     Unknown 1 eta13 55 (40, 65) days_last_entrance 74 (49, 157) nvisit13 5 (3, 9) 1 n (%); Median (IQR) "],["descriptive-statistics.html", "2 Descriptive statistics 2.1 Population 2.2 Territorial distribution 2.3 Subscription 2.4 Museum visits", " 2 Descriptive statistics This section focuses on the exploration and visualization of the data. 2.1 Population First, looking at the gender of clients, female represents the 55% of the customers, male only the 42%, while the remaining consists of customers that did not answer. Figure 2.1 shows the count of observations of male and female for each age class. Figure 2.1: Histogram of age classes and gender As highlighted before, the proportion of female is slightly greater that the male one for each age class, but it is in general a balanced population. Considering the age, instead, the majority of customers are middle age, between 40 and 70 years old. This was also expected, although it is interesting to see that there is a particularly high percentage of people in the class 60-69, maybe due the fact that they have more free time. Other interesting results comes out from this plot. There are some very young customers, between 0 and 9 and a few are older than 90. 2.2 Territorial distribution To study a service that is by construction linked to the territory, like a museum membership, it is essential to understand where customers live. We divided the analysis, looking specifically at the region where the membership is used, but considering many customers live outside the region we also carried out a macro-analysis on all the Italian provinces. Most of the customers (68%) live in the region, and in particularly 64% live in the main municipality. The last map shows that the remaining clients live in almost all of Italy, with greater observations in regions bordering the association’ region. As for the rest, we have an homogeneous distribution in pretty much all the provinces, with some cases with no observations. 2.3 Subscription In the dataset are present different type of subscriptions. It doesn’t contain specific information about the reductions, although some are self-explanatory. It is clear that some of those are reserved to specific categories, like students and people above 60 years old. The discount type refers to the NGOs that provide the discount, if any. The most common reductions are “Abbonamento Musei” and “Abbonamento Musei Ridotto”. Those two alone account for almost 75% of all the subscriptions. It is difficult to understand only from the data the correlation between the type of reduction and the price of the subscription because there are different prices for the same type of reduction. In Figure 2.2 are shown the count for each subscription type. Figure 2.2: Clients per type of reduction Considering these uncertainties, we focused our analysis on the different category of prices. There are 6 possible prices for the annual membership (0.00€, 10.00€, 49.00€, 30.00€, 28.00€, 44.00€). From Figure 2.3 it is possible to see that the majority of clients purchased subscriptions that costed 28.00€, 30.00€ or 44.00€. The clients that got the membership for free are less than 1%. The most sold was the 44.00€ membership, around 35% of total and the three most common membership’s prices account for around 85% of the total. Figure 2.3: Clients per price of subscription These memberships are sold by 141 agencies of 12 types. From Figure 2.4 it’s clear how the most used type of agency to buy the subscription is the information point, followed by the museum and CRAL (company “free time” association). Those make up more than 80% of all sales (more than 40% just from information points). Some agencies, like buyer groups and commercial points, are around 5%, while many are even less than 1%. Figure 2.4: Clients per type of agency 2.4 Museum visits The reference dataset in this case is “df_3”, from here we can derive information about the museums and single visits for each client. In total, there are 139 museums. Considering we have information about individual visits, we investigated two main trends, in particular the hour of entrance and the month of the year. Figure 2.5 shows the distribution of the entrance during the day. As expected, clients tend to enter more in the first part of the morning and of the afternoon. There are some entrances also in the evening, we assumed that those could be related to evening exhibitions. Figure 2.5: Hour of entrance Figure 2.6 indicates the distribution of the visits during the months. Here we do not have all the data for the month of December, so it is not comparable with the other months. Figure 2.6: Number entrances per month Lastly, it is interesting to see the distribution of how many clients did a certain number of visits. Figure 2.7 is a downward trend even though these are clients with a subscription that presumably allows for many visits. Figure 2.7: Number of clients per number of visits "],["variable-selection.html", "3 Variable selection 3.1 Selecting variables based on summary statistics 3.2 Logistic regression", " 3 Variable selection Customers are very important to companies as a key to success. Our marketing focuses on projecting the 2014 churn rate because it is more expensive for businesses to gain new clients than it is to invest in retaining current ones. The churn rate is the fraction of customers that don’t renew their museum cards. Our objective is to identify the clients who are unlikely to extend their museum membership, and in order to do this it’s critical to comprehend which of these clients’ attributes merit careful consideration. In addition, to make predictions, we need to know which additional variables are crucial. In this chapter we will analyze the variables that have a certain impact on the churn probability of our subscribers, through the use of the logistic model. First of all, it is necessary to analyze which variables are important to the churn prediction. Our research studies is composed of two parts: some descriptive analysis in order to understand the magnitude of some variables to the churn one, and the choice of these variables based on multicollinearity and significance for the logistic model. 3.1 Selecting variables based on summary statistics The dataset has different variables, and as first step, it is necessary to understand which ones have an higher impact to the probability of churn through the summary statistic. In order to do this, we have created a summary table for some selected variables. The choice of these variables is based on the descriptive analysis of the dataset displayed in the previous chapters, and also on the multicollinearity problem; for example, the variables number of visits and number of visits before, which is the number of visits before 2013, are highly correlated, so we have decided to select only one of them. Moreover, we have excluded some categorical variable with a lot of classes, like municipality and province, which have municipalities and provinces from all of Italy. As a way to solve this problem, we have created a new categorical variable that contains all these classes without having any computational and timing issue for the logistic regression: location. It has three classes: out of region, which refers to individuals who live outside the region; region are individuals who live in the region, but not in the municipality, which has a specific class; and city for people who leave in the municipality. The Table 3.1 shows the amount of individuals that churned and those who renewed their subscription, the sample size and the p-value of each variable. Categorical variables’ values are the number of observation related to each class; meanwhile, in the round brackets, we have the percentage of the specif class related to the “churn” variable. On the other hand, the values of continuous variables are the mean and their standard deviation. Table 3.1: Summary table Characteristic N 0, N = 51,751 1, N = 19,926 p-value sesso 71,677 &lt;0.001 F 28,631 (73%) 10,710 (27%) M 21,693 (72%) 8,567 (28%) NA 1,427 (69%) 649 (31%) eta13 71,677 55 (16) 45 (18) &lt;0.001 importo 71,677 &lt;0.001 0 354 (65%) 191 (35%) 10 1,150 (48%) 1,255 (52%) 28 16,285 (81%) 3,895 (19%) 30 10,383 (65%) 5,568 (35%) 44 19,869 (78%) 5,667 (22%) 49 3,710 (53%) 3,350 (47%) nvisit13 71,677 8 (7) 5 (5) &lt;0.001 reg 71,677 &lt;0.001 out_reg 11,847 (53%) 10,339 (47%) reg 1,868 (74%) 648 (26%) TO 38,036 (81%) 8,939 (19%) days_last_entrance 71,677 100 (74) 144 (96) &lt;0.001 nuovo_abb 71,677 0.6 NUOVO ABBONATO 51,725 (72%) 19,918 (28%) VECCHIO ABBONATO 26 (76%) 8 (24%) 1 n (%); Mean (SD) 2 Pearson’s Chi-squared test; Wilcoxon rank sum test The first variable that we have analyzed is age, which is the age of the subscribers in 2013. The mean of the age of churned individuals is 45 years old, meanwhile the renewed ones are 55 years old. This means that the churned individuals are older than the renewed ones. visits is the number of visits that an individual has done during 2013. As displayed in Table 3.1, the mean of the number of visits of churned individuals is lower than the renewed ones, with an average number of 5 visits per customers rather than 8 for those who renewed the subscription. This means that the churned individuals have a lower frequency of visits than the renewed ones. There are some variables that are completely unbalanced, like new subscription, which is related to those without a museum card in 2012, that are new customers in 2013; otherwise subscription are old customers. The Table 3.1 shows that there are only a few individuals which were not new customers in 2013. For this reason we cannot consider that, as described in the Table 3.1, 24% of the old subscribers have churned, as they are only 8 individuals out of 71.677 individuals. On the other hand, most new subscribers have renewed their subscriptions. The last variable to point out is location, the one we have create in order to include all the geographical locations. According to the Table 3.1, most of individuals tend to renew their subscription all over the country, considering that we have only three main classes for this variable. Moreover, these classes are unbalanced since the major of individuals are concentrated in the association’s region. People living in the municipality are the most numerous in the categorical variable, but with a churn rate of 30%. Given the unbalanced nature of the sample, the frequency of churn is higher in other regions. But as seen in the descriptive analysis, the sample size of people living outside the region are not evenly scattered, but are concentrated in some provinces. Thus, we can confirm that the frequency of churn must be compared with the sample size in order to draw conclusions. The choice to show the geographic map related to the frequency of churn, was made in order to be able to report the importance in visualizing the impact of variables on the probability of churn that must be compared with the sample size, and must be balanced. In this case, eliminating provinces with few individuals would have meant bringing the representation of few regions, as the dataset is mainly based on those living in the region. 3.2 Logistic regression In the previous section we have identified the relevant variables for our investigation, but we still need to examine how they affect the likelihood of churn. We decided that logistic regression is a useful tool to accomplish this goal. Logistic regression is often used for prediction purposes, since it estimates the probability of the binary event, in this case churn or renewed, based on the other indipendent variables. Our method for choosing the independent variables is based on the multicollinearity problem as well as the findings from the preceding section. Every variable in Table 3.1 was included in our initial model, which we then further refined based on the variables that were shown to be statistically not significant. Finally, the optimal model was ascertained by eliminating variables that failed to attain statistical significance, as new subscription. Table 3.2: Logistic regression Characteristic log(OR) SE p-value GVIF Adjusted GVIF (Intercept) 0.61*** 0.061 &lt;0.001 importo 0.00*** 0.001 &lt;0.001 1.0 1.0 sesso 1.0 1.0 F — — M 0.11*** 0.025 &lt;0.001 NA 0.34*** 0.069 &lt;0.001 nabb0512 -0.26*** 0.008 &lt;0.001 2.0 1.4 nvisit13 -0.07*** 0.003 &lt;0.001 1.2 1.1 eta13 -0.02*** 0.001 &lt;0.001 1.1 1.0 cambiocap0512 0.27*** 0.053 &lt;0.001 1.2 1.1 days_last_entrance 0.00*** 0.000 &lt;0.001 1.2 1.1 reg 1.7 1.1 out_reg — — reg -0.21** 0.068 0.002 TO -0.39*** 0.032 &lt;0.001 1 p&lt;0.05; p&lt;0.01; p&lt;0.001 2 OR = Odds Ratio, SE = Standard Error, GVIF = Generalized Variance Inflation Factor 3 GVIF1 Table 3.2 shows the estimate of the intercept, which is the log odds, the estimate of the coefficients of the independent variables, which are the log odds ratio, the standard error of the estimates and the p-value. Then, we have also analyzed the multicollinearity problem through the variance inflation factor (VIF), which is a measure of the amount of multicollinearity in a set of multiple regression variables. The VIF estimates how much the variance of a regression coefficient is inflated due to multicollinearity in the model. The general rule of thumb is that if VIF is greater than 5, then multicollinearity is a problem. And we have also displayed the adjusted VIF, which is the VIF adjusted for the number of variables in the model, with a general rule of thumb of 2. In this model we have already selected all the variables with a low VIF, to avoid the multicollinearity problem. Moreover, we have also analyzed the p-value of each variable, and we have selected only those with a p-value lower than 0.05. The logistic regression’s results are more challenging to interpret than those of the linear regression. For the intercept, the log odds are represented by the coefficient estimates; meanwhile, it is used the log odds ratio for the coefficients’ estimates of the other indipendent variables. In this instance, the churn serves as the reference level for the binary response variable. The intercept indicate that the log odds of churn is approximately 0.61 with all the variables zero. This indicates that the odds of churn, or the log odds’ exponential, are roughly 1.84 times greater than the odds of non-churning, holding all other variables fixed. On the other hand, the estimate of the indipendent variables are the log odds ratio of the other variables, which are the log odds of churn compared to the log odds of non-churn. For example, the log odds ratio of “eta13” is -0.02, so we have less log odds with an additional year old, holding all the other variables fixed. The meaning is that young people have an higher probability to churn rather than old individuals. However, this variable has not an high impact on the probability of churn, and so age is not as relevant in predicting churn. The variables subscription before and number of visits have additional negative coefficient estimates. The first one is based on the quantity of subscriptions acquired prior to 2013; having a negative log odds ratio means that the more subscriptions an individual has had before 2013, the less likely he is to churn. The second one has to do with visits in 2013. Thus, the more visits a person had in 2013, the lower his chance of churning. The number of subscriptions has a greater influence on the response variable than the number of visits in 2013. It is reasonable to assume that individuals who have a strong interest in art are more likely to renew their subscriptions than those who only occasionally visit museums. In the meantime, the estimate of coefficients for the other variables is positive. The gender is the only categorical variable that is taken into account, with an additional class for people who have not responded to the question. Male individuals are more likely to churn rather than female ones, as for NA category. This category has an important magnitude on the probability of churn. Since these people refrained from disclosing their gender identity, it is reasonable to assume that they would prefer not to give these companies access to a large amount of personal information, preferring not to renew their subscription. change municipality is about the change of the municipality of residence, and the more changes an individual has had, the more likely he is to churn. This is the third variable that have an important impact on the probability to churn, since its log odds is 0.27. On the other hand, most recent visit is a variable we developed to include the duration of each person’s most recent visit. The coefficients of this variable and the price paid for the subscription are both zero. Since both estimates are very statistically significant, they have a low impact in the response variable that is positive, which we cannot see because of the limitation given by the table display. Finally, one of the most important variable for our research is location. The reference level for this variable is the number of people that lives outside the region, defined as region class. As seen in the previous section and in the descriptive part, the major of the individuals considered lives in the municipality. Actually, the magnitude of this variable in relation to the likelihood of churn indicates that it is the most significant variable for our next prediction. All classes of this variable have a negative coefficient, implying that the probability of making churn is lower than for those living outside the region. However, city residents are the least likely to churn compared to those outside of the region due to its magnitude in the response variable. People who live in the municipality will inevitably have a greater negative impact on the probability of churn given the difference in the sample sizes of the region and province classes and the greater number of museums in the province. In summary, after conducting a comprehensive analysis of the data, it is evident that certain variables play a significant role in influencing the probability of churn. People that lives in the municipality, individuals that didn’t report their gender, and the change of the residence emerge as key drivers in predicting customer churn. The estimated coefficients for these variables indicate a positive relationship with the likelihood of churn for the change municipality and gender, and a negative relationship with the likelihood of churn for the region. In summary, the factors that have the highest impact on the likelihood of churn are All these variables will therefore be used in Chapter 4 to forecast the likelihood of individual churn, and to determine the best model to use in order to maximize profits given the expenses of the upcoming marketing campaigns. 1/(2*df)↩︎ "],["churn-prediction-and-retention-strategy.html", "4 Churn prediction and retention strategy 4.1 Prediction models 4.2 Retention strategy 4.3 The combined strategy", " 4 Churn prediction and retention strategy In the last chapter, the choice of the variables that have the highest impact on the churn rate was discussed. In this chapter, we use those variables to predict whether a customer will decide not to renew their museum card in 2014. After determining the prediction model with the highest performance, we will then evaluate the best strategy on how to reach by phone and/or email those who are most likely to churn, given our budget. 4.1 Prediction models The goal of the prediction model for this task is to predict the churn rate of the museum card holders in 2014 based on the their entrance history, demographic information and amount paid in 2013. Any prediction needs to be trained on a set of data called training set, but evaluated on new data the model did not see during training called test set. This is done to avoid overfitting, or in other words, to avoid the model to learn the training data by heart and not being able to generalize to unseen data. We split the overall dataset into 60% training set and 40% test set. As table 4.1 shows, the proportion of churners is around 38%, which does not indicate an overly unbalanced dataset. As a consequence, no special treatment was deemed necessary to deal with the imbalance on the training side. Table 4.1: Composition of test set in terms of churn churn n 0 20693 1 7978 For the choice of the models, we decided to compare the performance of some of the most widely used classification algorithms, namely logistic regression, whose inference analysis is contained in the previous chapter, conditional inference trees, random forest and C5.0 with boosting. The performance of the models on the test set can be seen in Figure 4.1. The ROC curve is a plot of the true positive rate, or the proportion of churners correctly classified as such, against the false positive rate, or the proportion of non-churners incorrectly classified as churners. The closer the curve is to the top left corner, the better the model. The area under the curve (AUC) is a measure of the overall performance of the model, with a value of 1 indicating a perfect model and a value of 0.5 indicating a model that is no better than random guessing. Figure 4.1: ROC curves of models We can see that the logistic model has the best performance for most of the range, together with the conditional inference trees and C5.0 model with boosting. Table 4.2 summarises these results numerically in terms of precision, recall, AUC, F1 score and accuracy for each model. Table 4.2: Performance of the models model precision recall auc f1 accuracy Logistic 0.7832142 0.9159136 0.7729627 0.8443821 0.7563392 Tree 0.7836626 0.9202629 0.7722978 0.8464872 0.7590946 C5Boost 0.7868784 0.9146088 0.7668507 0.8459493 0.7595829 RandomForest 0.7919042 0.8792345 0.7569467 0.8332875 0.7460849 Beyond the AUC which was already discussed, accuracy is the simplest measure of performance to look at. It is possible to see that the boosting model has the highest one, followed by the decision tree and the logistic regression. However, accuracy is not always the best measure of performance, especially when the dataset is a bit unbalanced. For this reason, the F1 score is also reported, which is the harmonic mean of precision, or the ratio of correctly predicted churn cases to the total number of positive predictions made by the model, and recall, or ratio of true positive predictions to the total number of actual positive cases. In this case, the conditional inference trees have the highest value. For the task of this project though, the cost of a false negative is not the same as the cost of a false positive. Failing to identify a churning customer results in a loss of revenue far greater than the cost of contacting a customer who is not going to churn. Consequently, the recall is the most important metric to look at. The conditional inference tree has the highest recall and this is the model that will be used for defining the retention strategy. 4.2 Retention strategy The goal of the retention strategy is to define a set of rules to decide which customers to contact and how to contact them. The rules are based on the probability of churn predicted by the model, the cost of contacting a customer and the customer’s value to the museum association for the year 2014. Moreover, the association is bounded by a budget of 5,000€ to spend on contacting customers. The cost of contacting a customer varies by method. The cost of sending an email is 0.15€, while the cost of calling a customer is 1€. The difference in cost is also reflected in the response rate, which is 15% for emails and 35% for phone calls. For the value of a customer, the initial revenue is given by the amount paid by the customer for the subscription in 2013. This means that we are assuming that the customer will pay the same amount in 2014 and will be eligible for the same discounts. From this initial revenue it is then deducted the amount of money that the association had to pay to the museums (50% of the ordinary ticket price) every time the customer visited a museum in 2013. The resulting value is the net revenue for the association, projected to 2014, calculated for each customer. 4.2.1 Phone-only and email-only strategies Initially, a simpler model was considered, where the customers were sorted in descending order by their probability of churn and the association would contact them only either by phone or by email. The customers most likely to churn are contacted before the ones less likely to churn. If the contacted customer is a churner, then the association gets 35% or 15% the subscription revenue, depending on the response rate of phone calls vs emails, minus 50% of the admission tickets minus the cost of contacting the customer. If the contacted customer is not a churner, then the association will get zero revenue from the campaign, since the customer would have renewed their subscription anyway, but will still have to pay the cost of contacting the customer. The cumulative profit is calculated by summing the profit of each customer contacted in order. It is possible to see the two extreme cases in Figure 4.2. As we move to the right of each curve, by contacting more and more people, the cumulative profit increases but customers are increasingly not churners. The association starts getting less and less revenue from them; this why both of the curves first flatten out and then start decreasing, as the cost of contacting customers is higher than the revenue generated by the churners. The phone-only strategy, due to its higher cost, has a steeper decrease than the email-only strategy. The chart also shows the area under the budget constraint of 5,000€ in red. We can see that all the customers could be reached by email, but only 17% of them could be reached by phone. This area allows us to observe how, despite having a higher cumulative profit without a budget constraint, contacting predicted churners only by phone is not the best strategy in this case, since we can see that the maximum of cumulative profit of the email-only strategy is slightly higher than the maximum of the phone-only strategy at the budget constraint. Figure 4.2: Phone-only and email-only cumulative profits with area under budget Since the customers are sorted by their probability of churn, it is trivial to find the score cutoff that the association would use if it wanted to exhaust the budget. Tables 4.3 and 4.4 summarise the results, with the cutoffs highlighted in pink and the cumulative values of churners, cost, revenue and profit. With a cutoff of 45%-50%, the association would be able to contact between 4,371 and 5,500 customers by phone, generating a cumulative profit between 20,777€ and 23,522€. Meanwhile the email cutoff associated with the highest profit under the budget stands at 5%-10%, with a profit between 24,923€ and 24,993€. As stated before, this last one would in fact be the best strategy in this simpler case. However, this would not be an efficient strategy, since the budget would not be fully used. Table 4.3: Phone-only strategy cutoffs scoreBin contacted churners cum_cost cum_revenue cum_profit 0.9-0.8 360 294 360 2758 2398 0.8-0.7 824 607 824 6303 5479 0.7-0.6 2114 1464 2114 13553 11439 0.6-0.5 4371 2721 4371 25148 20777 0.5-0.45 5500 3250 5500 29022 23522 0.45-0.4 6640 3759 6640 33802 27162 0.4-0.35 9730 4903 9730 44296 34566 0.35-0.3 11511 5495 11511 48878 37367 0.3-0.25 13143 5985 13143 53625 40482 0.25-0.2 16223 6694 16223 58221 41998 0.2-0.15 18333 7107 18333 61713 43380 0.15-0.1 22097 7617 22097 65887 43790 0.1-0.05 26072 7907 26072 67441 41369 0.05-0.0 28671 7978 28671 67577 38906 Table 4.4: Email-only strategy cutoffs scoreBin contacted churners cum_cost cum_revenue cum_profit 0.9-0.8 360 294 54 1182 1128 0.8-0.7 824 607 124 2701 2578 0.7-0.6 2114 1464 317 5809 5492 0.6-0.5 4371 2721 656 10778 10122 0.5-0.45 5500 3250 825 12438 11613 0.45-0.4 6640 3759 996 14487 13491 0.4-0.35 9730 4903 1460 18984 17525 0.35-0.3 11511 5495 1727 20948 19221 0.3-0.25 13143 5985 1971 22982 21011 0.25-0.2 16223 6694 2433 24952 22518 0.2-0.15 18333 7107 2750 26448 23698 0.15-0.1 22097 7617 3315 28237 24923 0.1-0.05 26072 7907 3911 28903 24993 0.05-0.0 28671 7978 4301 28962 24661 The limitations of these two extreme cases are evident. First of all, as it was just said, the strategy is not efficient in terms of budget. Finally, the customers are sorted by their probability of churn, while weighting the probability of churn by the net value of the customer would be more appropriate and a combination of phone calls and emails possibly more rewarding. This is why a more sophisticated strategy was devised. 4.3 The combined strategy The more optimal strategy that we designed and advise the association to follow is the following. First, the customers are now sorted by the product of their probability of churn and their net value. This means that the customers who are most likely to churn and are most valuable to the association are contacted first. The customers who do not bring any value are the last ones to be contacted, if the budget allows it. Second, the association would use a combination of phone calls and emails to reach the customers more likely to leave its service. From an economic point of view, we think that starting with phone calls for the most valuable customers and then switching to emails for the less valuable ones is the best foundation for this strategy, with still allows the possibility to contact all the customers by email or also a large part of them if it makes financial sense. Defining a discretionary cutoff for the phone calls and emails, and for the amount of people to contact, was not deemed appropriate. The reason is that this would not be based on data, but on the intuition of the analyst, and could not be applicable to new datasets of the future years. Relying on data-driven decision-making is crucial for creating a sustainable strategy that can be adapted to changing circumstances over time. It ensures that the approach remains objective and relevant as customer behavior and business conditions evolve. This is why a computation approach was chosen instead, with the development of an algorythm. What the algorythm does is try for each share of contacted customers the best combinations of phone and email percentages that maximize the cumulative profit under the budget constraint. The five top results are shown in Table 4.5. Table 4.5: Top 5 optimal combinations perc_contacted phone_perc email_perc cum_cost cum_profit 0.41 0.19 0.81 4987.471 31039.71 0.34 0.24 0.76 4975.438 31009.04 0.30 0.27 0.73 4962.230 30960.86 0.37 0.22 0.78 4956.359 30952.97 0.38 0.21 0.79 4968.829 30941.49 First of all, we can see that no optimal combinations has either all phone calls or all emails. Instead, it is normally used a combination of the two, with the phone percentage being around 20% and the rest being emails. The optimal one allows the association to contact 41% of the customers, with 19% of them contacted by phone and 81% by email. The cumulative profit is 31,039€ which around 6,000€ more than the email-only strategy and 7,000€ more than the phone-only strategy. An important thing to note is that the budget is not perfectly exhausted with a cumulative cost of 4,987€ compared to the budget constraint of 5,000€. However, this difference is not attributable to a particular “choice” of the algorithm but to the fact that the iterations of algorithm are over the percentiles and thus with every move we are adding many more customers. The algorithm stops in that position because if it were to add more it would go over the budget constraint. So it is more of a error in precision than an actual choice in not using the whole budget. Instead, it is clearly seen how the algorithm tries to use as much as the budget as possible. Figure 4.3: Optimal strategy Figure 4.3 shows the curve of the cumulative profit of the optimal strategy. On it, we can clearly see, depicted with different colors, the phone, email and out-of-budget segments of the curve. With this important findings, it is possible to state that a combination of the two contact campaigns, phone and email, is better than the extreme cases. Moreover, once more, these findings allow us to see how the association can only contact the customers which are more likely to churn and are more valuable, while discarding the ones which are less likely to churn and are less valuable. This is a very important aspect of the strategy, since it allows the association to save money and time, while still maximizing the profit. "],["conclusion.html", "Conclusion", " Conclusion In conclusion, this project represents a critically important initiative for the association. Through a deep analysis of museum customers data, we have provided a clear view of customers, the characteristics influencing churn and propose optimal marketing strategies for maximising profits. First, we focused on understanding who are museum cardholders, where they live and how they behave from an economic perspective. From a preliminary descriptive analysis, our clients represent a diverse range of individuals, with a little predominance of female clients. The most common age group among them is between 40 and 70 years old. Most of our customers reside in the association region, particularly in the same municipality, where the museums under analysis are located. Our customers mainly make their purchases at information points, museums, and corporate leisure associations. Throughout data analysis, we examined various variables to identify the characteristics that most influence the likelihood of churn among our museum subscribers. Some significant trends clearly emerge. First, considering age customers who have churned are on average older than those who have renewed their membership. In addition, the frequency of museum visits seems to play a crucial role; those who have made fewer visits have a higher probability of churn. Noteworthy, new customers tend to renew their memberships to a greater extent than existing customers. Finally, geographic analysis reveals significant differences in the likelihood of churn across regions, underscoring the importance of considering geographic context when planning customer retention strategies. In addition, a more analytical approach has been used. After setting up a logistic regression age, visit frequency, subscription history, gender, time since last visit, and amount spent were revealed as the key variables influencing the probability of churn among museum subscribers. These factors will guide the development of targeted retention strategies and predictive models to maximize profits in future marketing campaigns. Finally, by building predictive models, we have been able to accurately estimate the probability of our customers’ churn. These models turned out to be crucial in defining an optimal marketing strategy. Using these tools, we have been able to identify the ideal combination of customers to contact, either through phone calls or email, with the goal of maximizing profits while keeping costs within the established budget. This approach allows us to maintain a high degree of efficiency and focus resources on a targeted way, improving customer retention and optimizing the success of future marketing campaigns. "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
